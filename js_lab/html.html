<!DOCTYPE html>
<html>

<head>
    <title>Лабы</title>
    <link href="style.css" rel="stylesheet">
    <meta charset="utf-8">
    <style>
        .var {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            height: 100%;
            text-align: center;
            font-size: 24px;
        }

        .content {
            display: none;
        }

        #content1 {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            height: 100%;
            text-align: center;
            font-size: 24px;
        }

        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .menu {
            display: flex;
            justify-content: flex-start;
            flex-direction: column;
            align-items: flex-start;
            height: 50px;
            padding: 0 20px;
            border-radius: 12px;
            max-block-size: 3;
            position: static;
            margin-bottom: 20px;
        }

        .menu button {
            height: 30px;
            width: 500px;
            background-color: rgb(56, 56, 213);
            border: 1px solid black;
            border-radius: 4px;
            color: white;
            padding: 0 12px;
            margin-left: 0;
            margin-right: 10px;
            font-size: 20px;
            flex-grow: 1;
        }



        .menu button:active {
            box-shadow: inset -2px -2px 3px rgba(255, 255, 255, 0.6), inset 2px 2px 3px rgba(0, 0, 0, 0.6);
        }


    </style>
</head>

<body>
    <div class="var">
        <p>Вариант 23</p>
    </div>
    <div class="menu">
        <div>
            <button onclick="toggleContent(1); showDateTime();">Task 1 - DateTime</button>
            <div class="content" id="content1"></div>
        </div>
        <div>
            <button onclick="toggleContent(2)">Task 2</button>
            <div class="content" id="content2">
                <table id="calendar">
                    <thead>
                        <tr>
                            <td>‹
                            <td colspan="5">
                            <td>›
                        <tr>
                            <td>Пн
                            <td>Вт
                            <td>Ср
                            <td>Чт
                            <td>Пт
                            <td>Сб
                            <td>Вс
                    <tbody>
                </table>
            </div>
        </div>
        <div>
            <button onclick="toggleContent(3)">Task 3</button>

            <div class="content" id="content3">

                <div class="row">
                    <form>
                        <input type="text" placeholder="Input in form 1">

                    </form>
                    <br> <br>
                    <form>
                        <input type="text" placeholder="Input in form 2">
                    </form>
                </div>
                <button  onclick="executeTask3()">Find</button>
                <p id="task3_text"></p>

            </div>
        </div>
        <div>
            <button onclick="toggleContent(4)">Task 4</button>
            <script>
                setInterval(() => {
                    executeTask4()
                }, 80);
            </script>
            <div class="content" id="content4">
                <div class="row">
                    <div class="task4_block">
                        <div id="task4_block1">block 1</div>
                    </div>
                    <div class="task4_block">
                        <div id="task4_block2">block 2</div>
                    </div>
                    <div class="task4_block">
                        <div id="task4_block3">block 3</div>
                    </div>
                    <div class="task4_block">
                        <div id="task4_block4">block 4</div>
                    </div>
                    <div class="task4_block">
                        <div id="task4_block5">block 5</div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <button onclick="toggleContent(5)">Task 5</button>

            <div class="content" id="content5">
                <ul id="task5_list">
                </ul>

                <div>
                    <button style = "height:30px;
				width: 243px;" onclick="task5AddItem()">Add</button>
                    <button style = "height:30px;
				width: 243px;" onclick="task5RemoveItem()">Remove</button>
                </div>


            </div>
            <script>
                const list = document.getElementById('task5_list');

                list.addEventListener('click', (event) => {
                    const target = event.target;
                    if (target.tagName !== 'LI') {
                        return;
                    }

                    // Если элемент уже выбран, снимаем выделение
                    const selected = document.querySelector('li.selected');
                    if (selected) {
                        selected.classList.remove('selected');
                    }

                    target.classList.add('selected');
                });

                function task5AddItem() {
                    const selected = document.querySelector('li.selected');



                    const content = prompt('Введите содержимое нового элемента');

                    if (!content)  return;

                    const newItem = document.createElement('li');
                    newItem.textContent = content;

                    const ul = document.createElement('ul');
                    ul.appendChild(newItem);

                    if(!selected) {
                        list.appendChild(newItem);
                    }
                    selected.appendChild(ul);
                    selected.classList.remove('selected');
                }

                function task5RemoveItem() {
                    const selected = document.querySelector('li.selected');

                    if (!selected) {
                        alert('Выберите элемент для удаления');
                        return;
                    }

                    const confirmation = confirm(`Вы уверены, что хотите удалить элемент "${selected.textContent}"?`);
                    if (!confirmation) {
                        return;
                    }
                    selected.remove();
                }
            </script>
        </div>
        <div>
            <button onclick="toggleContent(6)">Task 6</button>
            <script>

            </script>
            <div class="content" id="content6">
                <table class="task6_table" id="task6_table">
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
            </div>
            <script>
                let table = document.getElementById("task6_table");

                for (let i = 0; i < table.rows.length; i++) {
                    for (let j = 0; j < table.rows[i].cells.length; j++) {
                        table.rows[i].cells[j].addEventListener("dblclick", function() {

                            for (let i = 0; i < table.rows.length; i++) {
                                for (let j = 0; j < table.rows[i].cells.length; j++) {
                                    table.rows[i].cells[j].innerHTML = '';
                                }
                            }

                            var img = document.createElement('img');
                            img.src = "https://sun9-10.userapi.com/impg/0FVXLpm-vbsLhX9f2rgGUuf8DHlh90XDB_MiHA/r3prwECw4d4.jpg?size=1620x2160&quality=95&sign=e9ee214206a8fc192da855891de12d59&type=album";
                            img.width = 80;
                            img.height = 80;
                            this.appendChild(img);
                        });
                    }
                }
            </script>
        </div>
        <div>
            <button onclick="toggleContent(7)">Task 7</button>
            <script>

            </script>
            <div class="content" id="content7">
                <div id="task_7" class="hidden">
                    <ul id="slad_list_name">Cладости (кликабельно)</ul>
                    <div id = "slad_list" style="display: none" >
                        <li id="sl_1" class="my_list_no">Супер контик</li>
                        <li id="sl_2" class="my_list_no">Шоколадка</li>
                        <li id="sl_3" class="my_list_no">Печенье</li>
                        <p id='sl_end' style="display: none">Сладости закончились!</p>
                    </div>


                </div>
            </div>
            <script>
                let flag = 0

                function fade(element, callback) {
                    let op = 1; 
                    let timer = setInterval(function () {
                        if (op <= 0.1){
                            clearInterval(timer);
                            element.style.display = 'none';
                            flag += 1;
                            callback();
                        }
                        element.style.opacity = op;
                        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
                        op -= op * 0.1;
                    }, 50);
                }

                let sl1 = document.getElementById('sl_1')
                let sl2 = document.getElementById('sl_2')
                let sl3 = document.getElementById('sl_3')

                block_1 = [sl1, sl2, sl3]

                sl1.addEventListener('click', () => fade(sl1, alert_sladosty))
                sl2.addEventListener('click', () => fade(sl2, alert_sladosty))
                sl3.addEventListener('click', () => fade(sl3, alert_sladosty))

                function alert_sladosty(){
                    if (flag === 3){
                        document.getElementById('sl_end').style.display = 'block';
                    }
                }
                let slad_list_name = document.getElementById('slad_list_name');
                let slad_list = document.getElementById('slad_list');
               
                slad_list_name.onclick = function() {
                    if (slad_list.style.display === "block") {
                        slad_list.style.display = "none";
                    } else {
                        slad_list.style.display = "block";
                    }
                }

            </script>
        </div>
        <div>
            <button onclick="toggleContent(8)">Task 8</button>
            <script>

            </script>
            <div>
              
                <div class="content" id="content8">
                    <div class="task8container">
                        <h3 class="task8text">❤️Lovemaker❤️</h3>
                        <img class="task8img" id="task8nig" src="https://sun2-10.userapi.com/impg/0FVXLpm-vbsLhX9f2rgGUuf8DHlh90XDB_MiHA/r3prwECw4d4.jpg?size=1620x2160&quality=95&sign=e9ee214206a8fc192da855891de12d59&type=album"/>
                    </div>
                </div>
                <script>
                    
		function makehover(obj, opacity_new, mult)
		{
			if (obj.style.opacity <= 1 && obj.style.opacity >= 0) {
				opacity_new = opacity_new - 0.1 * mult;
				obj.style.opacity = opacity_new;
				if (obj.style.opacity > 1) {
				obj.style.opacity = 1;
				}
				if (obj.style.opacity < 0) {
				obj.style.opacity = 0;
				}
			}
		}

		nig = document.getElementById("task8nig");
		hoveredall = false;
		let hov, allhov;

		let mult = -1;
		const isHover = (e) => e.parentElement.querySelector(":hover") === e;

		const myDiv = document.getElementById("task8nig");
		document.addEventListener("mousemove", function checkHover() {
		const hovered = isHover(myDiv);
		if (hovered !== checkHover.hovered) {
			if (hovered) {
			clearInterval(allhov);
			mult = +1;
			hov = setInterval(function () {
				makehover(myDiv, myDiv.style.opacity, mult);
			}, 50);
			} else {
			mult = -1;
			clearInterval(hov);
			allhov = setInterval(function () {
				makehover(myDiv, myDiv.style.opacity, mult);
			}, 50);
			}
			checkHover.hovered = hovered;
			hoveredall = hovered;
		}
		});
                </script>
            </div>
            <script>
                

            </script>
        </div>
        <div>
            <button onclick="toggleContent(9)">Task 9</button>

            <div class="content" id="content9">

                <br>
                <br>
                <div style="display: block; font-size: 32px;">Google LLC</div>
                <br>
                <!-- onsubmit="return false;" -->
                <form id="task9-form" >
                    <input type="text" id="fio" placeholder="ФИО">
                    <label id="FioErr" style="color:red; display:none">Неверный формат ФИО</label>
                    <input type="text" id="email2" placeholder="E-mail">
                    <label id="MailErr" style="color:red; display:none">Неверный формат почты</label>
                    <input type="password" id="password2" placeholder="Пароль">
                    <label id="PassErr" style="color:red; display:none">Неверный формат пароля. Пароль должен состоять хотя бы из 8 символов и хотя бы одной цифры.</label>
                    <input type="password" id="password3" placeholder="Подтвердите пароль">
                    <label id="ConfPassErr" style="color:red; display:none">Пароли не совпадают</label>
                    <input type="phone" id="phone" placeholder="Номер телефона">
                    <label id="PhoneErr" style="color:red; display:none ">Неверный формат телефона</label><br>
                    <br>
                    <label for="birthday">Дата рождения:</label><br>
                    <input type="date" id="birthday" name="birthday">
                    <label id="birthErr" style="color:red; display:none">Неверный формат даты</label>

                    <p class = "check" style="font-size: 17px;">Ваши навыки</p>
                    <label class="language"><input type="checkbox" name="languages" value="Vue"> Vue</label>
                    <label class="language"><input type="checkbox" name="languages" value="React"> React</label>
                    <label class="language"><input type="checkbox" name="languages" value="Angular"> Angular</label>
                    <label class="language"><input type="checkbox" name="languages" value="Flutter"> Flutter</label>
                    <label class="language"><input type="checkbox" name="languages" value="Spring"> Spring</label>
                    <p class="check_gen" style="font-size: 17px;">Пол</p>
                    <label class="language"><input type="radio" name="gender" value="male"> М</label>
                    <label class="language"><input type="radio" name="gender" value="female"> Ж</label>

                    <p style="display: block; font-size: 17px;" for="professions">Выберите вашу профессию:</p>
                    <select style="display: block; font-size: 17px;" id="professions" name="professions" onchange="showOtherInput()">
                        <option value="designer">Designer</option>
                        <option value="manager">Manager</option>
                        <option value="front">Front-end</option>
                        <option value="back">Back-end</option>
                        <option value="mobile">Mobile</option>
                        <option value="other">Другое</option>
                    </select>

                    <div id="other-input" style="display: none;">
                        <br>
                        <label style="display: block; font-size: 17px;  margin-bottom: 20px;" for="other-profession">Ваша профессия:</label>
                        <input style="display: block; font-size: 17px;  margin-bottom: 20px;" type="text" id="other-profession" name="other-profession">
                    </div>

                    <p style="display: block; font-size: 19px;">О себе:</p>
                    <textarea id="AboutMe" style="display: block; font-size: 17px;" rows="4" cols="50" scrolling="auto"  placeholder="23 y.o. designer from San Francisco"></textarea>

                    <br>

                    <button type="submit">Зарегистрироваться</button>
                    <button type="button" id="clear-button">Очистить</button>
<!--                    <div>-->
<!--                        <button  type="submit" style = "height:30px;-->
<!--				width: 243px;" >Зарегистрироваться</button>-->
<!--                        <button  type="button" id="clear-button" style = "height:30px;-->
<!--				width: 243px;" >Очистить</button>-->
<!--                    </div>-->
                </form>




            </div>
            <script>
                const form = document.querySelector('form');
                const submitButton = document.querySelector('[type="submit"]');
                submitButton.disabled = true;

                const fioInput = document.querySelector('#fio');

                fioInput.addEventListener('input', function(event) {
                    const fioRegex = /^[А-ЯЁ][а-яё]+ [А-ЯЁ][а-яё]+( [А-ЯЁ][а-яё]+)?$/;;
                    const fioValue = event.target.value.trim();
                    const fioErr = document.querySelector('#FioErr');

                    if (fioRegex.test(fioValue)) {
                        fioInput.style.borderColor = '#ccc';
                        fioErr.style.display = "none";
                        fioInput.classList.remove('error');
                        submitButton.disabled = false;
                    } else {
                        fioInput.style.borderColor = 'red';
                        fioErr.style.display = "block";
                        fioInput.classList.add('error');
                        submitButton.disabled = true;
                    }
                });

                document.querySelector('#email2').addEventListener('input', function(event) {
                    const emailInput = event.target;
                    const emailValue = emailInput.value;
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    const MailErr = document.querySelector('#MailErr');

                    if (emailRegex.test(emailValue)) {
                        emailInput.style.borderColor = '#ccc';
                        MailErr.style.display = "none";
                        emailInput.classList.remove('error');
                        submitButton.disabled = false;
                    } else {
                        emailInput.style.borderColor = 'red';
                        MailErr.style.display = "block";
                        emailInput.classList.add('error');
                        submitButton.disabled = true;
                    }
                });

                document.querySelector('#password2').addEventListener('input', function(event) {
                    const passwordInput = event.target;
                    const passwordValue = passwordInput.value;
                    const passwordRegex = /^(?=.*\d).{8,}$/;
                    const PassErr= document.querySelector('#PassErr');

                    if (passwordRegex.test(passwordValue)) {
                        passwordInput.style.borderColor = '#ccc';
                        PassErr.style.display = "none";
                        passwordInput.classList.remove('error');
                        submitButton.disabled = false;
                    } else {
                        passwordInput.style.borderColor = 'red';
                        PassErr.style.display = "block";
                        passwordInput.classList.add('error');
                        submitButton.disabled = true;
                    }
                });

                document.querySelector('#password3').addEventListener('input', function(event) {
                    const passwordConfirmInput = event.target;
                    const passwordConfirmValue = passwordConfirmInput.value;
                    const passwordValue = document.querySelector('#password2').value;
                    const ConfPassErr = document.querySelector('#ConfPassErr');

                    if (passwordConfirmValue === passwordValue) {
                        passwordConfirmInput.style.borderColor = '#ccc';
                        ConfPassErr.style.display = "none";
                        passwordConfirmInput.classList.remove('error');
                        submitButton.disabled = false;
                    } else {
                        passwordConfirmInput.style.borderColor = 'red';
                        ConfPassErr.style.display = "block";
                        passwordConfirmInput.classList.add('error');
                        submitButton.disabled = true;
                    }
                });

                document.querySelector('#phone').addEventListener('input', function(event) {
                    const phoneInput = event.target;
                    const phoneValue = phoneInput.value;
                    const phoneRegex = /^(\+7)?\s?(\(\d{3}\)|\d{3})\s?\d{3}(-|\s)?\d{2}(-|\s)?\d{2}$/;
                    const PhoneErr = document.querySelector('#PhoneErr');

                    if (phoneRegex.test(phoneValue)) {
                        phoneInput.style.borderColor = '#ccc';
                        PhoneErr.style.display = "none";
                        phoneInput.classList.remove('error');
                        submitButton.disabled = false;
                    } else {
                        phoneInput.style.borderColor = 'red';
                        PhoneErr.style.display = "block";
                        phoneInput.classList.add('error');
                        submitButton.disabled = true;
                    }
                });

                const birthdayInput = document.getElementById('birthday');

                birthdayInput.addEventListener('change', function(event) {
                    const birthdayValue = new Date(event.target.value);
                    const minDate = new Date('1950-01-01');
                    const maxDate = new Date('2023-12-31');
                    const birthErr = document.querySelector('#birthErr');

                    if (birthdayValue < minDate || birthdayValue > maxDate) {
                        birthdayInput.style.borderColor = 'red';
                        birthErr.style.display = "block";
                        submitButton.disabled = true;
                    } else {
                        birthErr.style.display = "none";
                        birthdayInput.style.borderColor = '#ccc';
                        submitButton.disabled = false;
                    }
                });

                const languageCheckboxes = document.querySelectorAll('input[type="checkbox"][name="languages"]');
                const languagesTitle = document.querySelector('.check');

                document.querySelector('#task9-form').addEventListener('submit', function(event) {
                    let isLanguageSelected = false;

                    for (const checkbox of languageCheckboxes)
                    {
                        if (checkbox.checked) {
                            isLanguageSelected = true;
                            break;
                        }
                    }

                    if (isLanguageSelected) {
                        languagesTitle.style.color = 'black';
                        languagesTitle.classList.remove('error');
                    } else {
                        languagesTitle.style.color = 'red';
                        languagesTitle.classList.add('error');
                        event.preventDefault();
                    }
                });

                const genderRadios = document.querySelectorAll('input[type="radio"][name="gender"]');
                const genderTitle = document.querySelector('.check_gen');

                document.querySelector('#task9-form').addEventListener('submit', function(event) {
                    let isGenderSelected = false;

                    for (const radio of genderRadios) {
                        if (radio.checked) {
                            isGenderSelected = true;
                            break;
                        }
                    }

                    if (!isGenderSelected) {
                        event.preventDefault();
                        genderTitle.style.color = 'red';
                    }
                });

                function showOtherInput() {
                    const select = document.getElementById("professions");
                    const otherInput = document.getElementById("other-input");
                    if (select.value === "other") {
                        otherInput.style.display = "block";
                    } else {
                        otherInput.style.display = "none";
                    }
                }

                const clearBtn2 = document.querySelector('#clear-button');
                const inputFields2 = document.querySelectorAll('input');

                clearBtn2.addEventListener('click', function() {
                    const emailInput = document.querySelector('#email2');
                    const passwordInput = document.querySelector('#password2');
                    const passwordConfirmInput = document.querySelector('#password3');
                    const phoneInput = document.querySelector('#phone');
                    const AboutMe = document.getElementById('AboutMe');
                    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
                    const radios = document.querySelectorAll('input[type="radio"]');
                    const prof = document.getElementById("professions");
                    const otherInput = document.getElementById("other-input");

                    checkboxes.forEach(checkbox => {
                        checkbox.checked = false;
                    });
                    radios.forEach(radio => {
                        radio.checked = false;
                    });

                    inputFields2.forEach(input => input.value = '');
                    fioInput.style.borderColor = '#ccc';
                    emailInput.style.borderColor = '#ccc';
                    passwordInput.style.borderColor = '#ccc';
                    passwordConfirmInput.style.borderColor = '#ccc';
                    phoneInput.style.borderColor = '#ccc';
                    birthdayInput.style.borderColor = '#ccc';
                    languagesTitle.style.color = 'black';
                    genderTitle.style.color = 'black';
                    AboutMe.value = '';
                    prof.selectedIndex = 0;
                    otherInput.style.display = "none";
                });

            </script>
        </div>
    </div>
    <script src="js.js" type="text/javascript"></script>
</body>

</html>